<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 希尔排序是基于插入排序实现的, 具有较高的效率和性能
    // 思路: 按照某一增量, 将原有的数组划分为多个数组, 然后在每一个数据中进行插入排序
    // 增量是会改变的, 初始增量为 数组长度的一半, 下一个增量为上一个增量的一半
    // 最终使用的增量的1, 其实就执行的是插入排序
    // ** 希尔排序的最后一步就是插入排序, 那么前面的的操作其实就是将数组的数据进行均匀分布

    function shellSort(array) {
      const length = array.length;
      // 初始增量
      let gap = Math.floor(length / 2);

      // 1. 首先是增量也要变化, 所以给增量设置一个循环
      while (gap > 0) {
        // 2. 经过划分的每个组要实现插入排序, 所以也要设置一个循环, 循环开始的位置是第一组的第二个数据, 也就是gap处
        for (i = gap; i < length; i++) {
          // 2.1 首先记录一下当前的数值, (后面要拿该数值与前面的有序数列进行比较)
          const current = array[i];
          // 2.2 记录一下需要进行比较的有序数组的索引值
          let index = i;
          // 3. 和前面的有序数组 进行比较, 如果小于, 那么就将比较过的数值移动到上一个位置
          while (array[index - gap] > current && index > gap - 1) {
            // 3.1 这里面都是要向右移动的
            array[index] = array[index - gap];
            index -= gap;
          }
          // 3.2 这里都是已经找到合适位置了 
          array[index] = current;
          // 3.3 然后插入排序就到此结束
        }

        // 1.1 然后这里需要做的就是将增量进一步改变, 进一步缩小
        gap = Math.floor(gap / 2)
      }
    }

    let testArr = [15, 23, 12, 24, 12, 9, 8, 56, 12, 12, 45];
    shellSort(testArr);
    console.log(testArr);
  </script>
</body>

</html>